{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar _get = require(\"@babel/runtime/helpers/get\");\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logWarning = logWarning;\nexports.logError = logError;\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\nvar _terminalReporter = _interopRequireDefault(require(\"metro/src/lib/TerminalReporter\"));\nvar _util = _interopRequireDefault(require(\"util\"));\nvar _ansi = require(\"../../../utils/ansi\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction logWarning(terminal, format) {\n  var _util$default;\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n  var str = (_util$default = _util.default).format.apply(_util$default, [format].concat(args));\n  terminal.log(\"%s: %s\", _chalk.default.yellow(\"warning\"), str);\n}\nfunction logError(terminal, format) {\n  var _util$default2;\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n  terminal.log(\"%s: %s\", _chalk.default.red(\"error\"), (_util$default2 = _util.default).format.apply(_util$default2, [_chalk.default.supportsColor ? format : (0, _ansi).stripAnsi(format)].concat(args)));\n}\nvar XTerminalReporter = _terminalReporter.default;\nvar TerminalReporter = function (_XTerminalReporter) {\n  _inherits(TerminalReporter, _XTerminalReporter);\n  var _super = _createSuper(TerminalReporter);\n  function TerminalReporter() {\n    var _this;\n    _classCallCheck(this, TerminalReporter);\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._bundleDetails = new Map();\n    _this._bundleTimers = new Map();\n    return _this;\n  }\n  _createClass(TerminalReporter, [{\n    key: \"_log\",\n    value: function _log(event) {\n      switch (event.type) {\n        case \"transform_cache_reset\":\n          return this.transformCacheReset();\n        case \"dep_graph_loading\":\n          return this.dependencyGraphLoading(event.hasReducedPerformance);\n        case \"client_log\":\n          if (this.shouldFilterClientLog(event)) {\n            return;\n          }\n          break;\n      }\n      return _get(_getPrototypeOf(TerminalReporter.prototype), \"_log\", this).call(this, event);\n    }\n  }, {\n    key: \"shouldFilterClientLog\",\n    value: function shouldFilterClientLog(event) {\n      return false;\n    }\n  }, {\n    key: \"transformCacheReset\",\n    value: function transformCacheReset() {}\n  }, {\n    key: \"dependencyGraphLoading\",\n    value: function dependencyGraphLoading(hasReducedPerformance) {}\n  }, {\n    key: \"bundleBuildEnded\",\n    value: function bundleBuildEnded(event, duration) {}\n  }, {\n    key: \"_updateState\",\n    value: function _updateState(event) {\n      if (event.bundleDetails) {\n        event.bundleDetails.buildID = event.buildID;\n      }\n      _get(_getPrototypeOf(TerminalReporter.prototype), \"_updateState\", this).call(this, event);\n      switch (event.type) {\n        case \"bundle_build_done\":\n        case \"bundle_build_failed\":\n          {\n            var startTime = this._bundleTimers.get(event.buildID);\n            if (startTime == null) {\n              break;\n            }\n            this.bundleBuildEnded(event, startTime ? Date.now() - startTime : 0);\n            this._bundleTimers.delete(event.buildID);\n            break;\n          }\n        case \"bundle_build_started\":\n          this._bundleDetails.set(event.buildID, event.bundleDetails);\n          this._bundleTimers.set(event.buildID, Date.now());\n          break;\n      }\n    }\n  }]);\n  return TerminalReporter;\n}(XTerminalReporter);\nexports.TerminalReporter = TerminalReporter;","map":{"version":3,"names":["_classCallCheck","require","_createClass","_get","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","logWarning","logError","_chalk","_interopRequireDefault","_terminalReporter","_util","_ansi","terminal","format","_util$default","_len","length","args","Array","_key","str","default","concat","log","yellow","_util$default2","_len2","_key2","red","supportsColor","stripAnsi","XTerminalReporter","TerminalReporter","_XTerminalReporter","_super","_this","_len3","_key3","_bundleDetails","Map","_bundleTimers","key","value","_log","event","type","transformCacheReset","dependencyGraphLoading","hasReducedPerformance","shouldFilterClientLog","bundleBuildEnded","duration","_updateState","bundleDetails","buildID","startTime","get","Date","now","delete","set"],"sources":["C:\\Users\\CR Laptop\\Desktop\\rn-project\\react_navigation\\node_modules\\@expo\\cli\\src\\start\\server\\metro\\TerminalReporter.ts"],"sourcesContent":["// This file represents an abstraction on the metro TerminalReporter.\n// We use this abstraction to safely extend the TerminalReporter for our own custom logging.\nimport chalk from 'chalk';\nimport { Terminal } from 'metro-core';\nimport UpstreamTerminalReporter from 'metro/src/lib/TerminalReporter';\nimport util from 'util';\n\nimport { stripAnsi } from '../../../utils/ansi';\nimport {\n  BundleDetails,\n  TerminalReportableEvent,\n  TerminalReporterInterface,\n} from './TerminalReporter.types';\n\n/**\n * A standard way to log a warning to the terminal. This should not be called\n * from some arbitrary Metro logic, only from the reporters. Instead of\n * calling this, add a new type of ReportableEvent instead, and implement a\n * proper handler in the reporter(s).\n */\nexport function logWarning(terminal: Terminal, format: string, ...args: any[]): void {\n  const str = util.format(format, ...args);\n  terminal.log('%s: %s', chalk.yellow('warning'), str);\n}\n\n/**\n * Similar to `logWarning`, but for messages that require the user to act.\n */\nexport function logError(terminal: Terminal, format: string, ...args: any[]): void {\n  terminal.log(\n    '%s: %s',\n    chalk.red('error'),\n    // Syntax errors may have colors applied for displaying code frames\n    // in various places outside of where Metro is currently running.\n    // If the current terminal does not support color, we'll strip the colors\n    // here.\n    util.format(chalk.supportsColor ? format : stripAnsi(format), ...args)\n  );\n}\n\nconst XTerminalReporter = UpstreamTerminalReporter as unknown as TerminalReporterInterface;\n\n/** Extended TerminalReporter class but with proper types and extra functionality to avoid using the `_log` method directly in subclasses. */\nexport class TerminalReporter extends XTerminalReporter implements TerminalReporterInterface {\n  /**\n   * A cache of { [buildID]: BundleDetails } which can be used to\n   * add more contextual logs. BundleDetails is currently only sent with `bundle_build_started`\n   * so we need to cache the details in order to print the platform info with other event types.\n   */\n  _bundleDetails: Map<string, BundleDetails> = new Map();\n\n  /** Keep track of how long a bundle takes to complete */\n  _bundleTimers: Map<string, number> = new Map();\n\n  _log(event: TerminalReportableEvent): void {\n    switch (event.type) {\n      case 'transform_cache_reset':\n        return this.transformCacheReset();\n      case 'dep_graph_loading':\n        return this.dependencyGraphLoading(event.hasReducedPerformance);\n      case 'client_log':\n        if (this.shouldFilterClientLog(event)) {\n          return;\n        }\n        break;\n    }\n    return super._log(event);\n  }\n\n  /** Gives subclasses an easy interface for filtering out logs. Return `true` to skip. */\n  shouldFilterClientLog(event: {\n    type: 'client_log';\n    level: 'trace' | 'info' | 'warn' | 'log' | 'group' | 'groupCollapsed' | 'groupEnd' | 'debug';\n    data: unknown[];\n  }): boolean {\n    return false;\n  }\n\n  /** Cache has been reset. */\n  transformCacheReset(): void {}\n\n  /** One of the first logs that will be printed. */\n  dependencyGraphLoading(hasReducedPerformance: boolean): void {}\n\n  /**\n   * Custom log event representing the end of the bundling.\n   *\n   * @param event event object.\n   * @param duration duration of the build in milliseconds.\n   */\n  bundleBuildEnded(event: TerminalReportableEvent, duration: number): void {}\n\n  /**\n   * This function is exclusively concerned with updating the internal state.\n   * No logging or status updates should be done at this point.\n   */\n  _updateState(\n    event: TerminalReportableEvent & { bundleDetails?: BundleDetails; buildID?: string }\n  ) {\n    // Append the buildID to the bundleDetails.\n    if (event.bundleDetails) {\n      event.bundleDetails.buildID = event.buildID;\n    }\n\n    super._updateState(event);\n    switch (event.type) {\n      case 'bundle_build_done':\n      case 'bundle_build_failed': {\n        const startTime = this._bundleTimers.get(event.buildID);\n        // Observed a bug in Metro where the `bundle_build_done` is invoked twice during a static bundle\n        // i.e. `expo export`.\n        if (startTime == null) {\n          break;\n        }\n\n        this.bundleBuildEnded(event, startTime ? Date.now() - startTime : 0);\n        this._bundleTimers.delete(event.buildID);\n        break;\n      }\n      case 'bundle_build_started':\n        this._bundleDetails.set(event.buildID, event.bundleDetails);\n        this._bundleTimers.set(event.buildID, Date.now());\n        break;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}