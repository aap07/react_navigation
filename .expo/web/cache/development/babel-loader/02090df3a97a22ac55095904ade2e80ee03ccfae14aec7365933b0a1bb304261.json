{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _favicon = require(\"../../../export/favicon\");\nvar _expoMiddleware = require(\"./ExpoMiddleware\");\nvar debug = require(\"debug\")(\"expo:start:server:middleware:favicon\");\nvar FaviconMiddleware = function (_expoMiddleware$ExpoM) {\n  _inherits(FaviconMiddleware, _expoMiddleware$ExpoM);\n  var _super = _createSuper(FaviconMiddleware);\n  function FaviconMiddleware(projectRoot) {\n    var _this;\n    _classCallCheck(this, FaviconMiddleware);\n    _this = _super.call(this, projectRoot, [\"/favicon.ico\"]);\n    _this.projectRoot = projectRoot;\n    return _this;\n  }\n  _createClass(FaviconMiddleware, [{\n    key: \"handleRequestAsync\",\n    value: function () {\n      var _handleRequestAsync = _asyncToGenerator(function* (req, res, next) {\n        if (![\"GET\", \"HEAD\"].includes(req.method || \"\")) {\n          return next();\n        }\n        var faviconImageData;\n        try {\n          var data = yield (0, _favicon).getFaviconFromExpoConfigAsync(this.projectRoot);\n          if (!data) {\n            debug(\"No favicon defined in the Expo Config, skipping generation.\");\n            return next();\n          }\n          faviconImageData = data.source;\n          debug(\"\\u2705 Generated favicon successfully.\");\n        } catch (error) {\n          debug(\"Failed to generate favicon from Expo config:\", error);\n          return next(error);\n        }\n        res.setHeader(\"Content-Type\", \"image/x-icon\");\n        res.end(faviconImageData);\n      });\n      function handleRequestAsync(_x, _x2, _x3) {\n        return _handleRequestAsync.apply(this, arguments);\n      }\n      return handleRequestAsync;\n    }()\n  }]);\n  return FaviconMiddleware;\n}(_expoMiddleware.ExpoMiddleware);\nexports.FaviconMiddleware = FaviconMiddleware;","map":{"version":3,"names":["_asyncToGenerator","require","_classCallCheck","_createClass","_inherits","_possibleConstructorReturn","_getPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","_favicon","_expoMiddleware","debug","FaviconMiddleware","_expoMiddleware$ExpoM","_super","projectRoot","_this","key","value","_handleRequestAsync","req","res","next","includes","method","faviconImageData","data","getFaviconFromExpoConfigAsync","source","error","setHeader","end","handleRequestAsync","_x","_x2","_x3","ExpoMiddleware"],"sources":["C:\\Users\\CR Laptop\\Desktop\\rn-project\\react_navigation\\node_modules\\@expo\\cli\\src\\start\\server\\middleware\\FaviconMiddleware.ts"],"sourcesContent":["import { getFaviconFromExpoConfigAsync } from '../../../export/favicon';\nimport { ExpoMiddleware } from './ExpoMiddleware';\nimport { ServerNext, ServerRequest, ServerResponse } from './server.types';\n\nconst debug = require('debug')('expo:start:server:middleware:favicon') as typeof console.log;\n\n/**\n * Middleware for generating a favicon.ico file for the current project if one doesn't exist.\n *\n * Test by making a get request with:\n * curl -v http://localhost:8081/favicon.ico\n */\nexport class FaviconMiddleware extends ExpoMiddleware {\n  constructor(protected projectRoot: string) {\n    super(projectRoot, ['/favicon.ico']);\n  }\n\n  async handleRequestAsync(\n    req: ServerRequest,\n    res: ServerResponse,\n    next: ServerNext\n  ): Promise<void> {\n    if (!['GET', 'HEAD'].includes(req.method || '')) {\n      return next();\n    }\n\n    let faviconImageData: Buffer | null;\n    try {\n      const data = await getFaviconFromExpoConfigAsync(this.projectRoot);\n      if (!data) {\n        debug('No favicon defined in the Expo Config, skipping generation.');\n        return next();\n      }\n      faviconImageData = data.source;\n      debug('âœ… Generated favicon successfully.');\n    } catch (error: any) {\n      debug('Failed to generate favicon from Expo config:', error);\n      return next(error);\n    }\n    // Respond with the generated favicon file\n    res.setHeader('Content-Type', 'image/x-icon');\n    res.end(faviconImageData);\n  }\n}\n"],"mappings":"AAAA;;AAAA,IAAAA,iBAAA,GAAAC,OAAA;AAAA,IAAAC,eAAA,GAAAD,OAAA;AAAA,IAAAE,YAAA,GAAAF,OAAA;AAAA,IAAAG,SAAA,GAAAH,OAAA;AAAA,IAAAI,0BAAA,GAAAJ,OAAA;AAAA,IAAAK,eAAA,GAAAL,OAAA;AAAA,SAAAM,aAAAC,OAAA,QAAAC,yBAAA,GAAAC,yBAAA,oBAAAC,qBAAA,QAAAC,KAAA,GAAAN,eAAA,CAAAE,OAAA,GAAAK,MAAA,MAAAJ,yBAAA,QAAAK,SAAA,GAAAR,eAAA,OAAAS,WAAA,EAAAF,MAAA,GAAAG,OAAA,CAAAC,SAAA,CAAAL,KAAA,EAAAM,SAAA,EAAAJ,SAAA,YAAAD,MAAA,GAAAD,KAAA,CAAAO,KAAA,OAAAD,SAAA,YAAAb,0BAAA,OAAAQ,MAAA;AAAA,SAAAH,0BAAA,eAAAM,OAAA,qBAAAA,OAAA,CAAAC,SAAA,oBAAAD,OAAA,CAAAC,SAAA,CAAAG,IAAA,2BAAAC,KAAA,oCAAAC,OAAA,CAAAC,SAAA,CAAAC,OAAA,CAAAC,IAAA,CAAAT,OAAA,CAAAC,SAAA,CAAAK,OAAA,8CAAAI,CAAA;;;;AAA8C,IAAAC,QAAyB,GAAA1B,OAAA;AACxC,IAAA2B,eAAkB,GAAA3B,OAAA;AAGjD,IAAM4B,KAAK,GAAG5B,OAAO,CAAC,OAAO,CAAC,CAAC,sCAAsC,CAAC;AAAuB,IAQhF6B,iBAAiB,aAAAC,qBAAA;EAAA3B,SAAA,CAAA0B,iBAAA,EAAAC,qBAAA;EAAA,IAAAC,MAAA,GAAAzB,YAAA,CAAAuB,iBAAA;EAC5B,SAAAA,kBAAsBG,WAAmB,EAAE;IAAA,IAAAC,KAAA;IAAAhC,eAAA,OAAA4B,iBAAA;IACzCI,KAAA,GAAAF,MAAA,CAAAP,IAAA,OAAMQ,WAAW,EAAE,CAAC,cAAc,CAAC;UADfA,WAAmB,GAAnBA,WAAmB;IAAA,OAAAC,KAAA;;EAExC/B,YAAA,CAAA2B,iBAAA;IAAAK,GAAA;IAAAC,KAAA;MAAA,IAAAC,mBAAA,GAAArC,iBAAA,CAED,WACEsC,GAAkB,EAClBC,GAAmB,EACnBC,IAAgB,EACD;QACf,IAAI,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAACC,QAAQ,CAACH,GAAG,CAACI,MAAM,IAAI,EAAE,CAAC,EAAE;UAC/C,OAAOF,IAAI,EAAE;;QAGf,IAAIG,gBAAgB;QACpB,IAAI;UACF,IAAMC,IAAI,SAAS,IAAAjB,QAA6B,EAAkBkB,6BAAlB,CAAC,IAAI,CAACZ,WAAW,CAAC;UAClE,IAAI,CAACW,IAAI,EAAE;YACTf,KAAK,CAAC,6DAA6D,CAAC;YACpE,OAAOW,IAAI,EAAE;;UAEfG,gBAAgB,GAAGC,IAAI,CAACE,MAAM;UAC9BjB,KAAK,CAAC,wCAAmC,CAAC;SAC3C,CAAC,OAAOkB,KAAK,EAAO;UACnBlB,KAAK,CAAC,8CAA8C,EAAEkB,KAAK,CAAC;UAC5D,OAAOP,IAAI,CAACO,KAAK,CAAC;;QAGpBR,GAAG,CAACS,SAAS,CAAC,cAAc,EAAE,cAAc,CAAC;QAC7CT,GAAG,CAACU,GAAG,CAACN,gBAAgB,CAAC;OAC1B;MAAA,SAAAO,mBAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAhB,mBAAA,CAAAlB,KAAA,OAAAD,SAAA;MAAA;MAAA,OAAAgC,kBAAA;IAAA;EAAA;EAAA,OAAApB,iBAAA;AAAA,EA9BoCF,eAAc,CAAA0B,cAAA;QAAxCxB,iBAAiB,GAAjBA,iBAAiB"},"metadata":{},"sourceType":"script","externalDependencies":[]}