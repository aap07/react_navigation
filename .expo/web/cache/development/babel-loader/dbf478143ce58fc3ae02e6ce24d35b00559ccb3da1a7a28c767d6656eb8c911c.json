{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spawnSudoAsync = exports.createPendingSpawnAsync = void 0;\nvar spawn_async_1 = __importDefault(require(\"@expo/spawn-async\"));\nvar sudo_prompt_1 = __importDefault(require(\"sudo-prompt\"));\nfunction createPendingSpawnAsync(actionAsync, spawnAsync) {\n  var childResolve;\n  var child = new Promise(function (resolve, reject) {\n    childResolve = resolve;\n  });\n  var pendingPromise = new Promise(function (spawnResolve, spawnReject) {\n    actionAsync().then(function (result) {\n      var spawnPromise = spawnAsync(result);\n      childResolve(spawnPromise.child);\n      spawnPromise.then(spawnResolve).catch(spawnReject);\n    }).catch(function (error) {\n      childResolve(null);\n      spawnReject(error);\n    });\n  });\n  pendingPromise.child = child;\n  return pendingPromise;\n}\nexports.createPendingSpawnAsync = createPendingSpawnAsync;\nfunction spawnSudoAsync(_x, _x2) {\n  return _spawnSudoAsync.apply(this, arguments);\n}\nfunction _spawnSudoAsync() {\n  _spawnSudoAsync = _asyncToGenerator(function* (command, spawnOptions) {\n    if (process.platform === 'win32') {\n      return new Promise(function (resolve, reject) {\n        sudo_prompt_1.default.exec(command.join(' '), {\n          name: 'pod install'\n        }, function (error) {\n          if (error) {\n            reject(error);\n          }\n          resolve();\n        });\n      });\n    } else {\n      console.log('Your password might be needed to install CocoaPods CLI: https://guides.cocoapods.org/using/getting-started.html#installation');\n      yield (0, spawn_async_1.default)('sudo', command, spawnOptions);\n    }\n  });\n  return _spawnSudoAsync.apply(this, arguments);\n}\nexports.spawnSudoAsync = spawnSudoAsync;","map":{"version":3,"names":["spawn_async_1","__importDefault","require","sudo_prompt_1","createPendingSpawnAsync","actionAsync","spawnAsync","childResolve","child","Promise","resolve","reject","pendingPromise","spawnResolve","spawnReject","then","result","spawnPromise","catch","error","exports","spawnSudoAsync","_x","_x2","_spawnSudoAsync","apply","arguments","_asyncToGenerator","command","spawnOptions","process","platform","default","exec","join","name","console","log"],"sources":["../../src/utils/spawn.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,eAAA,CAAAC,OAAA;AAgBA,SAAgBE,uBAAuBA,CACrCC,WAA6B,EAC7BC,UAA0C;EAI1C,IAAIC,YAA8D;EAClE,IAAMC,KAAK,GAA6C,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAI;IACtFJ,YAAY,GAAGG,OAAO;EACxB,CAAC,CAAC;EAEF,IAAME,cAAc,GAAG,IAAIH,OAAO,CAAI,UAACI,YAAY,EAAEC,WAAW,EAAI;IAClET,WAAW,EAAE,CACVU,IAAI,CAAC,UAACC,MAAM,EAAI;MACf,IAAMC,YAAY,GAAGX,UAAU,CAACU,MAAM,CAAC;MACvCT,YAAY,CAACU,YAAY,CAACT,KAAK,CAAC;MAChCS,YAAY,CAACF,IAAI,CAACF,YAAY,CAAC,CAACK,KAAK,CAACJ,WAAW,CAAC;IACpD,CAAC,CAAC,CACDI,KAAK,CAAC,UAACC,KAAK,EAAI;MACfZ,YAAY,CAAC,IAAI,CAAC;MAClBO,WAAW,CAACK,KAAK,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,CAAC;EAEDP,cAAyC,CAACJ,KAAK,GAAGA,KAAK;EACxD,OAAOI,cAAwC;AACjD;AA1BAQ,OAAA,CAAAhB,uBAAA,GAAAA,uBAAA;AA0BC,SAOqBiB,cAAcA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,gBAAA;EAAAA,eAAA,GAAAG,iBAAA,CAA7B,WAA8BC,OAAiB,EAAEC,YAA0B;IAEhF,IAAIC,OAAO,CAACC,QAAQ,KAAK,OAAO,EAAE;MAChC,OAAO,IAAItB,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAI;QACrCR,aAAA,CAAA6B,OAAI,CAACC,IAAI,CAACL,OAAO,CAACM,IAAI,CAAC,GAAG,CAAC,EAAE;UAAEC,IAAI,EAAE;QAAa,CAAE,EAAE,UAAChB,KAAK,EAAI;UAC9D,IAAIA,KAAK,EAAE;YACTR,MAAM,CAACQ,KAAK,CAAC;;UAEfT,OAAO,EAAE;QACX,CAAC,CAAC;MACJ,CAAC,CAAC;KACH,MAAM;MAGL0B,OAAO,CAACC,GAAG,CACT,8HAA8H,CAC/H;MACD,MAAM,IAAArC,aAAA,CAAAgC,OAAU,EAAC,MAAM,EAAEJ,OAAO,EAAEC,YAAY,CAAC;;EAEnD,CAAC;EAAA,OAAAL,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAnBDN,OAAA,CAAAC,cAAA,GAAAA,cAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}