{"ast":null,"code":"import { execFileSync } from 'child_process';\nimport tmp from 'tmp';\nimport createDebug from 'debug';\nimport path from 'path';\nimport sudoPrompt from 'sudo-prompt';\nimport { configPath } from \"./constants\";\nvar debug = createDebug('devcert:util');\nexport function openssl(args) {\n  return run('openssl', args, {\n    stdio: 'pipe',\n    env: Object.assign({\n      RANDFILE: path.join(configPath('.rnd'))\n    }, process.env)\n  });\n}\nexport function run(cmd, args) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  debug(`execFileSync: \\`${cmd} ${args.join(' ')}\\``);\n  return execFileSync(cmd, args, options);\n}\nexport function sudoAppend(file, input) {\n  run('sudo', ['tee', '-a', file], {\n    input: input\n  });\n}\nexport function waitForUser() {\n  return new Promise(function (resolve) {\n    process.stdin.resume();\n    process.stdin.on('data', resolve);\n  });\n}\nexport function reportableError(message) {\n  return new Error(`${message} | This is a bug in devcert, please report the issue at https://github.com/davewasmer/devcert/issues`);\n}\nexport function mktmp() {\n  return tmp.fileSync({\n    discardDescriptor: true\n  }).name;\n}\nexport function sudo(cmd) {\n  return new Promise(function (resolve, reject) {\n    sudoPrompt.exec(cmd, {\n      name: 'devcert'\n    }, function (err, stdout, stderr) {\n      var error = err || typeof stderr === 'string' && stderr.trim().length > 0 && new Error(stderr);\n      error ? reject(error) : resolve(stdout);\n    });\n  });\n}","map":{"version":3,"names":["execFileSync","tmp","createDebug","path","sudoPrompt","configPath","debug","openssl","args","run","stdio","env","Object","assign","RANDFILE","join","process","cmd","options","arguments","length","undefined","sudoAppend","file","input","waitForUser","Promise","resolve","stdin","resume","on","reportableError","message","Error","mktmp","fileSync","discardDescriptor","name","sudo","reject","exec","err","stdout","stderr","error","trim"],"sources":["C:/Users/CR Laptop/Desktop/rn-project/react_navigation/node_modules/@expo/devcert/src/utils.ts"],"sourcesContent":["import { execFileSync, ExecFileSyncOptions } from 'child_process';\nimport tmp from 'tmp';\nimport createDebug from 'debug';\nimport path from 'path';\nimport sudoPrompt from 'sudo-prompt';\n\nimport { configPath } from './constants';\n\nconst debug = createDebug('devcert:util');\n\nexport function openssl(args: string[]) {\n  return run('openssl', args, {\n    stdio: 'pipe',\n    env: Object.assign({\n      RANDFILE: path.join(configPath('.rnd'))\n    }, process.env)\n  });\n}\n\nexport function run(cmd: string, args: string[], options: ExecFileSyncOptions = {}) {\n  debug(`execFileSync: \\`${ cmd } ${args.join(' ')}\\``);\n  return execFileSync(cmd, args, options);\n}\n\nexport function sudoAppend(file: string, input: ExecFileSyncOptions[\"input\"]) {\n  run('sudo', ['tee', '-a', file], {\n    input\n  });\n}\n\nexport function waitForUser() {\n  return new Promise((resolve) => {\n    process.stdin.resume();\n    process.stdin.on('data', resolve);\n  });\n}\n\nexport function reportableError(message: string) {\n  return new Error(`${message} | This is a bug in devcert, please report the issue at https://github.com/davewasmer/devcert/issues`);\n}\n\nexport function mktmp() {\n  // discardDescriptor because windows complains the file is in use if we create a tmp file\n  // and then shell out to a process that tries to use it\n  return tmp.fileSync({ discardDescriptor: true }).name;\n}\n\nexport function sudo(cmd: string): Promise<string | null> {\n  return new Promise((resolve, reject) => {\n    sudoPrompt.exec(cmd, { name: 'devcert' }, (err: Error | null, stdout: string | null, stderr: string | null) => {\n      let error = err || (typeof stderr === 'string' && stderr.trim().length > 0 && new Error(stderr)) ;\n      error ? reject(error) : resolve(stdout);\n    });\n  });\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAA6B,eAAe;AACjE,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,WAAW,MAAM,OAAO;AAC/B,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,UAAU,MAAM,aAAa;AAEpC,SAASC,UAAU;AAEnB,IAAMC,KAAK,GAAGJ,WAAW,CAAC,cAAc,CAAC;AAEzC,OAAO,SAASK,OAAOA,CAACC,IAAc,EAAE;EACtC,OAAOC,GAAG,CAAC,SAAS,EAAED,IAAI,EAAE;IAC1BE,KAAK,EAAE,MAAM;IACbC,GAAG,EAAEC,MAAM,CAACC,MAAM,CAAC;MACjBC,QAAQ,EAAEX,IAAI,CAACY,IAAI,CAACV,UAAU,CAAC,MAAM,CAAC;IACxC,CAAC,EAAEW,OAAO,CAACL,GAAG;EAChB,CAAC,CAAC;AACJ;AAEA,OAAO,SAASF,GAAGA,CAACQ,GAAW,EAAET,IAAc,EAAqC;EAAA,IAAnCU,OAA4B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAChFb,KAAK,CAAE,mBAAmBW,GAAK,IAAGT,IAAI,CAACO,IAAI,CAAC,GAAG,CAAE,IAAG,CAAC;EACrD,OAAOf,YAAY,CAACiB,GAAG,EAAET,IAAI,EAAEU,OAAO,CAAC;AACzC;AAEA,OAAO,SAASI,UAAUA,CAACC,IAAY,EAAEC,KAAmC,EAAE;EAC5Ef,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,IAAI,EAAEc,IAAI,CAAC,EAAE;IAC/BC,KAAK,EAALA;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC5B,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAK;IAC9BX,OAAO,CAACY,KAAK,CAACC,MAAM,CAAC,CAAC;IACtBb,OAAO,CAACY,KAAK,CAACE,EAAE,CAAC,MAAM,EAAEH,OAAO,CAAC;EACnC,CAAC,CAAC;AACJ;AAEA,OAAO,SAASI,eAAeA,CAACC,OAAe,EAAE;EAC/C,OAAO,IAAIC,KAAK,CAAE,GAAED,OAAQ,sGAAqG,CAAC;AACpI;AAEA,OAAO,SAASE,KAAKA,CAAA,EAAG;EAGtB,OAAOjC,GAAG,CAACkC,QAAQ,CAAC;IAAEC,iBAAiB,EAAE;EAAK,CAAC,CAAC,CAACC,IAAI;AACvD;AAEA,OAAO,SAASC,IAAIA,CAACrB,GAAW,EAA0B;EACxD,OAAO,IAAIS,OAAO,CAAC,UAACC,OAAO,EAAEY,MAAM,EAAK;IACtCnC,UAAU,CAACoC,IAAI,CAACvB,GAAG,EAAE;MAAEoB,IAAI,EAAE;IAAU,CAAC,EAAE,UAACI,GAAiB,EAAEC,MAAqB,EAAEC,MAAqB,EAAK;MAC7G,IAAIC,KAAK,GAAGH,GAAG,IAAK,OAAOE,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACE,IAAI,CAAC,CAAC,CAACzB,MAAM,GAAG,CAAC,IAAI,IAAIa,KAAK,CAACU,MAAM,CAAE;MAChGC,KAAK,GAAGL,MAAM,CAACK,KAAK,CAAC,GAAGjB,OAAO,CAACe,MAAM,CAAC;IACzC,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}