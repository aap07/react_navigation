{"ast":null,"code":"'use strict';\n\nvar _require = require(\"../parseTopLevelType\"),\n  parseTopLevelType = _require.parseTopLevelType;\nvar _require2 = require(\"./componentsUtils.js\"),\n  flattenProperties = _require2.flattenProperties;\nfunction extendsForProp(prop, types) {\n  if (!prop.expression) {\n    console.log('null', prop);\n  }\n  var name = prop.expression.name;\n  if (types[name] != null) {\n    return null;\n  }\n  switch (name) {\n    case 'ViewProps':\n      return {\n        type: 'ReactNativeBuiltInType',\n        knownTypeName: 'ReactNativeCoreViewProps'\n      };\n    default:\n      {\n        throw new Error(`Unable to handle prop spread: ${name}`);\n      }\n  }\n}\nfunction isEvent(typeAnnotation) {\n  if (typeAnnotation.type !== 'TSTypeReference') {\n    return false;\n  }\n  var eventNames = new Set(['BubblingEventHandler', 'DirectEventHandler']);\n  return eventNames.has(typeAnnotation.typeName.name);\n}\nfunction isProp(name, typeAnnotation) {\n  if (typeAnnotation.type !== 'TSTypeReference') {\n    return true;\n  }\n  var isStyle = name === 'style' && typeAnnotation.type === 'GenericTypeAnnotation' && typeAnnotation.typeName.name === 'ViewStyleProp';\n  return !isStyle;\n}\nfunction categorizeProps(typeDefinition, types, extendsProps, props, events) {\n  var remaining = [];\n  for (var prop of typeDefinition) {\n    if (prop.type === 'TSExpressionWithTypeArguments') {\n      var extend = extendsForProp(prop, types);\n      if (extend) {\n        extendsProps.push(extend);\n        continue;\n      }\n    }\n    remaining.push(prop);\n  }\n  for (var _prop of flattenProperties(remaining, types)) {\n    if (_prop.type === 'TSPropertySignature') {\n      var topLevelType = parseTopLevelType(_prop.typeAnnotation.typeAnnotation, types);\n      if (isEvent(topLevelType.type)) {\n        events.push(_prop);\n      } else if (isProp(_prop.key.name, _prop)) {\n        props.push(_prop);\n      }\n    }\n  }\n}\nmodule.exports = {\n  categorizeProps: categorizeProps\n};","map":{"version":3,"names":["_require","require","parseTopLevelType","_require2","flattenProperties","extendsForProp","prop","types","expression","console","log","name","type","knownTypeName","Error","isEvent","typeAnnotation","eventNames","Set","has","typeName","isProp","isStyle","categorizeProps","typeDefinition","extendsProps","props","events","remaining","extend","push","topLevelType","key","module","exports"],"sources":["C:/Users/CR Laptop/Desktop/rn-project/react_navigation/node_modules/@react-native/codegen/lib/parsers/typescript/components/extends.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n * @format\n */\n\n'use strict';\n\nconst _require = require('../parseTopLevelType'),\n  parseTopLevelType = _require.parseTopLevelType;\nconst _require2 = require('./componentsUtils.js'),\n  flattenProperties = _require2.flattenProperties;\nfunction extendsForProp(prop, types) {\n  if (!prop.expression) {\n    console.log('null', prop);\n  }\n  const name = prop.expression.name;\n  if (types[name] != null) {\n    // This type is locally defined in the file\n    return null;\n  }\n  switch (name) {\n    case 'ViewProps':\n      return {\n        type: 'ReactNativeBuiltInType',\n        knownTypeName: 'ReactNativeCoreViewProps',\n      };\n    default: {\n      throw new Error(`Unable to handle prop spread: ${name}`);\n    }\n  }\n}\nfunction isEvent(typeAnnotation) {\n  if (typeAnnotation.type !== 'TSTypeReference') {\n    return false;\n  }\n  const eventNames = new Set(['BubblingEventHandler', 'DirectEventHandler']);\n  return eventNames.has(typeAnnotation.typeName.name);\n}\nfunction isProp(name, typeAnnotation) {\n  if (typeAnnotation.type !== 'TSTypeReference') {\n    return true;\n  }\n  const isStyle =\n    name === 'style' &&\n    typeAnnotation.type === 'GenericTypeAnnotation' &&\n    typeAnnotation.typeName.name === 'ViewStyleProp';\n  return !isStyle;\n}\n\n// $FlowFixMe[unclear-type] TODO(T108222691): Use flow-types for @babel/parser\n\nfunction categorizeProps(typeDefinition, types, extendsProps, props, events) {\n  const remaining = [];\n  for (const prop of typeDefinition) {\n    // find extends\n    if (prop.type === 'TSExpressionWithTypeArguments') {\n      const extend = extendsForProp(prop, types);\n      if (extend) {\n        extendsProps.push(extend);\n        continue;\n      }\n    }\n    remaining.push(prop);\n  }\n\n  // find events and props\n  for (const prop of flattenProperties(remaining, types)) {\n    if (prop.type === 'TSPropertySignature') {\n      const topLevelType = parseTopLevelType(\n        prop.typeAnnotation.typeAnnotation,\n        types,\n      );\n      if (isEvent(topLevelType.type)) {\n        events.push(prop);\n      } else if (isProp(prop.key.name, prop)) {\n        props.push(prop);\n      }\n    }\n  }\n}\nmodule.exports = {\n  categorizeProps,\n};\n"],"mappings":"AAUA,YAAY;;AAEZ,IAAMA,QAAQ,GAAGC,OAAO,uBAAuB,CAAC;EAC9CC,iBAAiB,GAAGF,QAAQ,CAACE,iBAAiB;AAChD,IAAMC,SAAS,GAAGF,OAAO,uBAAuB,CAAC;EAC/CG,iBAAiB,GAAGD,SAAS,CAACC,iBAAiB;AACjD,SAASC,cAAcA,CAACC,IAAI,EAAEC,KAAK,EAAE;EACnC,IAAI,CAACD,IAAI,CAACE,UAAU,EAAE;IACpBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEJ,IAAI,CAAC;EAC3B;EACA,IAAMK,IAAI,GAAGL,IAAI,CAACE,UAAU,CAACG,IAAI;EACjC,IAAIJ,KAAK,CAACI,IAAI,CAAC,IAAI,IAAI,EAAE;IAEvB,OAAO,IAAI;EACb;EACA,QAAQA,IAAI;IACV,KAAK,WAAW;MACd,OAAO;QACLC,IAAI,EAAE,wBAAwB;QAC9BC,aAAa,EAAE;MACjB,CAAC;IACH;MAAS;QACP,MAAM,IAAIC,KAAK,CAAE,iCAAgCH,IAAK,EAAC,CAAC;MAC1D;EACF;AACF;AACA,SAASI,OAAOA,CAACC,cAAc,EAAE;EAC/B,IAAIA,cAAc,CAACJ,IAAI,KAAK,iBAAiB,EAAE;IAC7C,OAAO,KAAK;EACd;EACA,IAAMK,UAAU,GAAG,IAAIC,GAAG,CAAC,CAAC,sBAAsB,EAAE,oBAAoB,CAAC,CAAC;EAC1E,OAAOD,UAAU,CAACE,GAAG,CAACH,cAAc,CAACI,QAAQ,CAACT,IAAI,CAAC;AACrD;AACA,SAASU,MAAMA,CAACV,IAAI,EAAEK,cAAc,EAAE;EACpC,IAAIA,cAAc,CAACJ,IAAI,KAAK,iBAAiB,EAAE;IAC7C,OAAO,IAAI;EACb;EACA,IAAMU,OAAO,GACXX,IAAI,KAAK,OAAO,IAChBK,cAAc,CAACJ,IAAI,KAAK,uBAAuB,IAC/CI,cAAc,CAACI,QAAQ,CAACT,IAAI,KAAK,eAAe;EAClD,OAAO,CAACW,OAAO;AACjB;AAIA,SAASC,eAAeA,CAACC,cAAc,EAAEjB,KAAK,EAAEkB,YAAY,EAAEC,KAAK,EAAEC,MAAM,EAAE;EAC3E,IAAMC,SAAS,GAAG,EAAE;EACpB,KAAK,IAAMtB,IAAI,IAAIkB,cAAc,EAAE;IAEjC,IAAIlB,IAAI,CAACM,IAAI,KAAK,+BAA+B,EAAE;MACjD,IAAMiB,MAAM,GAAGxB,cAAc,CAACC,IAAI,EAAEC,KAAK,CAAC;MAC1C,IAAIsB,MAAM,EAAE;QACVJ,YAAY,CAACK,IAAI,CAACD,MAAM,CAAC;QACzB;MACF;IACF;IACAD,SAAS,CAACE,IAAI,CAACxB,IAAI,CAAC;EACtB;EAGA,KAAK,IAAMA,KAAI,IAAIF,iBAAiB,CAACwB,SAAS,EAAErB,KAAK,CAAC,EAAE;IACtD,IAAID,KAAI,CAACM,IAAI,KAAK,qBAAqB,EAAE;MACvC,IAAMmB,YAAY,GAAG7B,iBAAiB,CACpCI,KAAI,CAACU,cAAc,CAACA,cAAc,EAClCT,KACF,CAAC;MACD,IAAIQ,OAAO,CAACgB,YAAY,CAACnB,IAAI,CAAC,EAAE;QAC9Be,MAAM,CAACG,IAAI,CAACxB,KAAI,CAAC;MACnB,CAAC,MAAM,IAAIe,MAAM,CAACf,KAAI,CAAC0B,GAAG,CAACrB,IAAI,EAAEL,KAAI,CAAC,EAAE;QACtCoB,KAAK,CAACI,IAAI,CAACxB,KAAI,CAAC;MAClB;IACF;EACF;AACF;AACA2B,MAAM,CAACC,OAAO,GAAG;EACfX,eAAe,EAAfA;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}