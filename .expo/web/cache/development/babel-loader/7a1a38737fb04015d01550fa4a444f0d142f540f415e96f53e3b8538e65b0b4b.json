{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.printBundleSizes = printBundleSizes;\nexports.createFilesTable = createFilesTable;\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\nvar _prettyBytes = _interopRequireDefault(require(\"pretty-bytes\"));\nvar _textTable = _interopRequireDefault(require(\"text-table\"));\nvar Log = _interopRequireWildcard(require(\"../log\"));\nvar _ansi = require(\"../utils/ansi\");\nvar _link = require(\"../utils/link\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction printBundleSizes(bundles) {\n  var files = [];\n  for (var _ref of Object.entries(bundles)) {\n    var _ref2 = _slicedToArray(_ref, 2);\n    var platform = _ref2[0];\n    var bundleOutput = _ref2[1];\n    if (bundleOutput.hermesBytecodeBundle) {\n      files.push([_chalk.default.bold(`index.${platform}.hbc`), bundleOutput.hermesBytecodeBundle]);\n    } else if (bundleOutput.code) {\n      files.push([_chalk.default.bold(`index.${platform}.js`), bundleOutput.code]);\n    }\n    if (bundleOutput.hermesSourcemap) {\n      files.push([_chalk.default.dim(`index.${platform}.hbc.map`), bundleOutput.hermesSourcemap]);\n    } else if (bundleOutput.map) {\n      files.push([_chalk.default.dim(`index.${platform}.js.map`), bundleOutput.map]);\n    }\n  }\n  Log.log();\n  Log.log(createFilesTable(files.sort(function (a, b) {\n    return a[1].length - b[1].length;\n  })));\n  Log.log();\n  Log.log(_chalk.default`ðŸ’¡ JavaScript bundle sizes affect startup time. {dim ${(0, _link).learnMore(`https://expo.fyi/javascript-bundle-sizes`)}}`);\n  Log.log();\n  return files;\n}\nfunction createFilesTable(files) {\n  var tableData = files.map(function (item, index) {\n    var fileBranch = index === 0 ? files.length > 1 ? \"\\u250C\" : \"\\u2500\" : index === files.length - 1 ? \"\\u2514\" : \"\\u251C\";\n    return [`${fileBranch} ${item[0]}`, (0, _prettyBytes).default(Buffer.byteLength(item[1], \"utf8\"))];\n  });\n  var ref;\n  return (0, _textTable).default([[\"Bundle\", \"Size\"].map(function (v) {\n    return _chalk.default.underline(v);\n  })].concat(_toConsumableArray(tableData)), {\n    align: [\"l\", \"r\"],\n    stringLength: function stringLength(str) {\n      var ref1;\n      return (ref = (ref1 = (0, _ansi).stripAnsi(str)) == null ? void 0 : ref1.length) != null ? ref : 0;\n    }\n  });\n}","map":{"version":3,"names":["_toConsumableArray","require","_slicedToArray","printBundleSizes","createFilesTable","_chalk","_interopRequireDefault","_prettyBytes","_textTable","Log","_interopRequireWildcard","_ansi","_link","bundles","files","_ref","Object","entries","_ref2","platform","bundleOutput","hermesBytecodeBundle","push","default","bold","code","hermesSourcemap","dim","map","log","sort","a","b","length","learnMore","tableData","item","index","fileBranch","Buffer","byteLength","ref","v","underline","concat","align","stringLength","str","ref1","stripAnsi"],"sources":["C:\\Users\\CR Laptop\\Desktop\\rn-project\\react_navigation\\node_modules\\@expo\\cli\\src\\export\\printBundleSizes.ts"],"sourcesContent":["import { Platform } from '@expo/config';\nimport chalk from 'chalk';\nimport prettyBytes from 'pretty-bytes';\nimport table from 'text-table';\n\nimport * as Log from '../log';\nimport { stripAnsi } from '../utils/ansi';\nimport { learnMore } from '../utils/link';\nimport { BundleOutput } from './fork-bundleAsync';\n\nexport function printBundleSizes(bundles: Partial<Record<Platform, BundleOutput>>) {\n  const files: [string, string | Uint8Array][] = [];\n\n  for (const [platform, bundleOutput] of Object.entries(bundles) as [\n    Platform,\n    Pick<BundleOutput, 'hermesBytecodeBundle' | 'code' | 'hermesSourcemap' | 'map'>\n  ][]) {\n    if (bundleOutput.hermesBytecodeBundle) {\n      files.push([chalk.bold(`index.${platform}.hbc`), bundleOutput.hermesBytecodeBundle]);\n    } else if (bundleOutput.code) {\n      files.push([chalk.bold(`index.${platform}.js`), bundleOutput.code]);\n    }\n    if (bundleOutput.hermesSourcemap) {\n      files.push([chalk.dim(`index.${platform}.hbc.map`), bundleOutput.hermesSourcemap]);\n    } else if (bundleOutput.map) {\n      files.push([chalk.dim(`index.${platform}.js.map`), bundleOutput.map]);\n    }\n  }\n\n  Log.log();\n  Log.log(createFilesTable(files.sort((a, b) => a[1].length - b[1].length)));\n  Log.log();\n  Log.log(\n    chalk`ðŸ’¡ JavaScript bundle sizes affect startup time. {dim ${learnMore(\n      `https://expo.fyi/javascript-bundle-sizes`\n    )}}`\n  );\n  Log.log();\n\n  return files;\n}\n\nexport function createFilesTable(files: [string, string | Uint8Array][]): string {\n  const tableData = files.map((item, index) => {\n    const fileBranch =\n      index === 0 ? (files.length > 1 ? 'â”Œ' : 'â”€') : index === files.length - 1 ? 'â””' : 'â”œ';\n\n    return [`${fileBranch} ${item[0]}`, prettyBytes(Buffer.byteLength(item[1], 'utf8'))];\n  });\n  return table([['Bundle', 'Size'].map((v) => chalk.underline(v)), ...tableData], {\n    align: ['l', 'r'],\n    stringLength: (str) => stripAnsi(str)?.length ?? 0,\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}