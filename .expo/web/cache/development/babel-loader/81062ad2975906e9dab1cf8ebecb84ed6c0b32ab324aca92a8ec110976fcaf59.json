{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.queryAndGenerateAsync = queryAndGenerateAsync;\nexports.selectAndGenerateAsync = selectAndGenerateAsync;\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _resolveFrom = _interopRequireDefault(require(\"resolve-from\"));\nvar _installAsync = require(\"../install/installAsync\");\nvar _log = require(\"../log\");\nvar _dir = require(\"../utils/dir\");\nvar _errors = require(\"../utils/errors\");\nvar _templates = require(\"./templates\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction queryAndGenerateAsync(_x, _x2) {\n  return _queryAndGenerateAsync.apply(this, arguments);\n}\nfunction _queryAndGenerateAsync() {\n  _queryAndGenerateAsync = _asyncToGenerator(function* (projectRoot, _ref) {\n    var files = _ref.files,\n      props = _ref.props,\n      extras = _ref.extras;\n    var valid = files.filter(function (file) {\n      return !!_templates.TEMPLATES.find(function (template) {\n        return template.destination(props) === file;\n      });\n    });\n    if (valid.length !== files.length) {\n      var diff = files.filter(function (file) {\n        return !_templates.TEMPLATES.find(function (template) {\n          return template.destination(props) === file;\n        });\n      });\n      throw new _errors.CommandError(`Invalid files: ${diff.join(\", \")}. Allowed: ${_templates.TEMPLATES.map(function (template) {\n        return template.destination(props);\n      }).join(\", \")}`);\n    }\n    if (!valid.length) {\n      return;\n    }\n    _log.Log.log(`Generating: ${valid.join(\", \")}`);\n    return generateAsync(projectRoot, {\n      answer: files.map(function (file) {\n        return _templates.TEMPLATES.findIndex(function (template) {\n          return template.destination(props) === file;\n        });\n      }),\n      props: props,\n      extras: extras\n    });\n  });\n  return _queryAndGenerateAsync.apply(this, arguments);\n}\nfunction selectAndGenerateAsync(_x3, _x4) {\n  return _selectAndGenerateAsync.apply(this, arguments);\n}\nfunction _selectAndGenerateAsync() {\n  _selectAndGenerateAsync = _asyncToGenerator(function* (projectRoot, _ref2) {\n    var props = _ref2.props,\n      extras = _ref2.extras;\n    var answer = yield (0, _templates).selectTemplatesAsync(projectRoot, props);\n    if (!(answer == null ? void 0 : answer.length)) {\n      _log.Log.exit(\"\\n\\u203A Exiting with no change...\", 0);\n    }\n    yield generateAsync(projectRoot, {\n      answer: answer,\n      props: props,\n      extras: extras\n    });\n  });\n  return _selectAndGenerateAsync.apply(this, arguments);\n}\nfunction generateAsync(_x5, _x6) {\n  return _generateAsync.apply(this, arguments);\n}\nfunction _generateAsync() {\n  _generateAsync = _asyncToGenerator(function* (projectRoot, _ref3) {\n    var answer = _ref3.answer,\n      props = _ref3.props,\n      extras = _ref3.extras;\n    yield Promise.all(answer.map(function (file) {\n      var template = _templates.TEMPLATES[file];\n      var projectFilePath = _path.default.resolve(projectRoot, template.destination(props));\n      return (0, _dir).copyAsync(template.file(projectRoot), projectFilePath, {\n        overwrite: true,\n        recursive: true\n      });\n    }));\n    var packages = answer.map(function (file) {\n      return _templates.TEMPLATES[file].dependencies;\n    }).flat().filter(function (pkg) {\n      return !_resolveFrom.default.silent(projectRoot, pkg);\n    });\n    if (packages.length) {\n      _log.Log.debug(\"Installing \" + packages.join(\", \"));\n      yield (0, _installAsync).installAsync(packages, {}, [\"--dev\"].concat(_toConsumableArray(extras)));\n    }\n  });\n  return _generateAsync.apply(this, arguments);\n}","map":{"version":3,"names":["_toConsumableArray","require","_asyncToGenerator","queryAndGenerateAsync","selectAndGenerateAsync","_path","_interopRequireDefault","_resolveFrom","_installAsync","_log","_dir","_errors","_templates","_x","_x2","_queryAndGenerateAsync","apply","arguments","projectRoot","_ref","files","props","extras","valid","filter","file","TEMPLATES","find","template","destination","length","diff","CommandError","join","map","Log","log","generateAsync","answer","findIndex","_x3","_x4","_selectAndGenerateAsync","_ref2","selectTemplatesAsync","exit","_x5","_x6","_generateAsync","_ref3","Promise","all","projectFilePath","default","resolve","copyAsync","overwrite","recursive","packages","dependencies","flat","pkg","silent","debug","installAsync","concat"],"sources":["C:\\Users\\CR Laptop\\Desktop\\rn-project\\react_navigation\\node_modules\\@expo\\cli\\src\\customize\\generate.ts"],"sourcesContent":["import path from 'path';\nimport resolveFrom from 'resolve-from';\n\nimport { installAsync } from '../install/installAsync';\nimport { Log } from '../log';\nimport { copyAsync } from '../utils/dir';\nimport { CommandError } from '../utils/errors';\nimport { DestinationResolutionProps, selectTemplatesAsync, TEMPLATES } from './templates';\n\nexport async function queryAndGenerateAsync(\n  projectRoot: string,\n  {\n    files,\n    props,\n    extras,\n  }: {\n    files: string[];\n    props: DestinationResolutionProps;\n    /** Any extra props to pass to the install command. */\n    extras: any[];\n  }\n) {\n  const valid = files.filter(\n    (file) => !!TEMPLATES.find((template) => template.destination(props) === file)\n  );\n\n  if (valid.length !== files.length) {\n    const diff = files.filter(\n      (file) => !TEMPLATES.find((template) => template.destination(props) === file)\n    );\n    throw new CommandError(\n      `Invalid files: ${diff.join(', ')}. Allowed: ${TEMPLATES.map((template) =>\n        template.destination(props)\n      ).join(', ')}`\n    );\n  }\n\n  if (!valid.length) {\n    return;\n  }\n  Log.log(`Generating: ${valid.join(', ')}`);\n  return generateAsync(projectRoot, {\n    answer: files.map((file) =>\n      TEMPLATES.findIndex((template) => template.destination(props) === file)\n    ),\n    props,\n    extras,\n  });\n}\n\n/** Select templates to generate then generate and install. */\nexport async function selectAndGenerateAsync(\n  projectRoot: string,\n  {\n    props,\n    extras,\n  }: {\n    props: DestinationResolutionProps;\n    /** Any extra props to pass to the install command. */\n    extras: any[];\n  }\n) {\n  const answer = await selectTemplatesAsync(projectRoot, props);\n\n  if (!answer?.length) {\n    Log.exit('\\n\\u203A Exiting with no change...', 0);\n  }\n\n  await generateAsync(projectRoot, {\n    answer,\n    props,\n    extras,\n  });\n}\n\nasync function generateAsync(\n  projectRoot: string,\n  {\n    answer,\n    props,\n    extras,\n  }: {\n    answer: number[];\n    props: DestinationResolutionProps;\n    /** Any extra props to pass to the install command. */\n    extras: any[];\n  }\n) {\n  // Copy files\n  await Promise.all(\n    answer.map((file) => {\n      const template = TEMPLATES[file];\n      const projectFilePath = path.resolve(projectRoot, template.destination(props));\n      // copy the file from template\n      return copyAsync(template.file(projectRoot), projectFilePath, {\n        overwrite: true,\n        recursive: true,\n      });\n    })\n  );\n\n  // Install dependencies\n  const packages = answer\n    .map((file) => TEMPLATES[file].dependencies)\n    .flat()\n    .filter((pkg) => !resolveFrom.silent(projectRoot, pkg));\n  if (packages.length) {\n    Log.debug('Installing ' + packages.join(', '));\n    await installAsync(packages, {}, ['--dev', ...extras]);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}