{"ast":null,"code":"\"use strict\";\n\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getNodeExternalModuleId = getNodeExternalModuleId;\nexports.setupNodeExternals = setupNodeExternals;\nexports.isNodeExternal = isNodeExternal;\nexports.METRO_EXTERNALS_FOLDER = exports.EXTERNAL_REQUIRE_NATIVE_POLYFILL = exports.EXTERNAL_REQUIRE_POLYFILL = exports.NODE_STDLIB_MODULES = void 0;\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _module = require(\"module\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar NODE_STDLIB_MODULES = [\"fs/promises\"].concat(_toConsumableArray((_module.builtinModules || (process.binding ? Object.keys(process.binding(\"natives\")) : []) || []).filter(function (x) {\n  return !/^_|^(internal|v8|node-inspect)\\/|\\//.test(x) && ![\"sys\"].includes(x);\n}))).sort();\nexports.NODE_STDLIB_MODULES = NODE_STDLIB_MODULES;\nvar EXTERNAL_REQUIRE_POLYFILL = \".expo/metro/polyfill.js\";\nexports.EXTERNAL_REQUIRE_POLYFILL = EXTERNAL_REQUIRE_POLYFILL;\nvar EXTERNAL_REQUIRE_NATIVE_POLYFILL = \".expo/metro/polyfill.native.js\";\nexports.EXTERNAL_REQUIRE_NATIVE_POLYFILL = EXTERNAL_REQUIRE_NATIVE_POLYFILL;\nvar METRO_EXTERNALS_FOLDER = \".expo/metro/externals\";\nexports.METRO_EXTERNALS_FOLDER = METRO_EXTERNALS_FOLDER;\nfunction getNodeExternalModuleId(fromModule, moduleId) {\n  return _path.default.relative(_path.default.dirname(fromModule), _path.default.join(METRO_EXTERNALS_FOLDER, moduleId, \"index.js\"));\n}\nfunction setupNodeExternals(_x) {\n  return _setupNodeExternals.apply(this, arguments);\n}\nfunction _setupNodeExternals() {\n  _setupNodeExternals = _asyncToGenerator(function* (projectRoot) {\n    yield tapExternalRequirePolyfill(projectRoot);\n    yield tapNodeShims(projectRoot);\n  });\n  return _setupNodeExternals.apply(this, arguments);\n}\nfunction tapExternalRequirePolyfill(_x2) {\n  return _tapExternalRequirePolyfill.apply(this, arguments);\n}\nfunction _tapExternalRequirePolyfill() {\n  _tapExternalRequirePolyfill = _asyncToGenerator(function* (projectRoot) {\n    yield _fs.default.promises.mkdir(_path.default.join(projectRoot, _path.default.dirname(EXTERNAL_REQUIRE_POLYFILL)), {\n      recursive: true\n    });\n    yield _fs.default.promises.writeFile(_path.default.join(projectRoot, EXTERNAL_REQUIRE_POLYFILL), 'global.$$require_external = typeof window === \"undefined\" ? require : () => null;');\n    yield _fs.default.promises.writeFile(_path.default.join(projectRoot, EXTERNAL_REQUIRE_NATIVE_POLYFILL), \"global.$$require_external = (moduleId) => {throw new Error(`Node.js standard library module ${moduleId} is not available in this JavaScript environment`);}\");\n  });\n  return _tapExternalRequirePolyfill.apply(this, arguments);\n}\nfunction isNodeExternal(moduleName) {\n  var moduleId = moduleName.replace(/^node:/, \"\");\n  if (NODE_STDLIB_MODULES.includes(moduleId)) {\n    return moduleId;\n  }\n  return null;\n}\nfunction tapNodeShimContents(moduleId) {\n  return `module.exports = $$require_external('node:${moduleId}');`;\n}\nfunction tapNodeShims(_x3) {\n  return _tapNodeShims.apply(this, arguments);\n}\nfunction _tapNodeShims() {\n  _tapNodeShims = _asyncToGenerator(function* (projectRoot) {\n    var externals = {};\n    for (var moduleId of NODE_STDLIB_MODULES) {\n      var shimDir = _path.default.join(projectRoot, METRO_EXTERNALS_FOLDER, moduleId);\n      var shimPath = _path.default.join(shimDir, \"index.js\");\n      externals[moduleId] = shimPath;\n      if (!_fs.default.existsSync(shimPath)) {\n        yield _fs.default.promises.mkdir(shimDir, {\n          recursive: true\n        });\n        yield _fs.default.promises.writeFile(shimPath, tapNodeShimContents(moduleId));\n      }\n    }\n  });\n  return _tapNodeShims.apply(this, arguments);\n}","map":{"version":3,"names":["_asyncToGenerator","require","_toConsumableArray","getNodeExternalModuleId","setupNodeExternals","isNodeExternal","_fs","_interopRequireDefault","_module","_path","NODE_STDLIB_MODULES","concat","builtinModules","process","binding","Object","keys","filter","x","test","includes","sort","EXTERNAL_REQUIRE_POLYFILL","EXTERNAL_REQUIRE_NATIVE_POLYFILL","METRO_EXTERNALS_FOLDER","fromModule","moduleId","default","relative","dirname","join","_x","_setupNodeExternals","apply","arguments","projectRoot","tapExternalRequirePolyfill","tapNodeShims","_x2","_tapExternalRequirePolyfill","promises","mkdir","recursive","writeFile","moduleName","replace","tapNodeShimContents","_x3","_tapNodeShims","externals","shimDir","shimPath","existsSync"],"sources":["C:\\Users\\CR Laptop\\Desktop\\rn-project\\react_navigation\\node_modules\\@expo\\cli\\src\\start\\server\\metro\\externals.ts"],"sourcesContent":["/**\n * Copyright Â© 2023 650 Industries.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport fs from 'fs';\nimport { builtinModules } from 'module';\nimport path from 'path';\n\n// A list of the Node.js standard library modules that are currently\n// available,\nexport const NODE_STDLIB_MODULES: string[] = [\n  'fs/promises',\n  ...(\n    builtinModules ||\n    // @ts-expect-error\n    (process.binding ? Object.keys(process.binding('natives')) : []) ||\n    []\n  ).filter((x) => !/^_|^(internal|v8|node-inspect)\\/|\\//.test(x) && !['sys'].includes(x)),\n].sort();\n\nexport const EXTERNAL_REQUIRE_POLYFILL = '.expo/metro/polyfill.js';\nexport const EXTERNAL_REQUIRE_NATIVE_POLYFILL = '.expo/metro/polyfill.native.js';\nexport const METRO_EXTERNALS_FOLDER = '.expo/metro/externals';\n\nexport function getNodeExternalModuleId(fromModule: string, moduleId: string) {\n  return path.relative(\n    path.dirname(fromModule),\n    path.join(METRO_EXTERNALS_FOLDER, moduleId, 'index.js')\n  );\n}\n\nexport async function setupNodeExternals(projectRoot: string) {\n  await tapExternalRequirePolyfill(projectRoot);\n  await tapNodeShims(projectRoot);\n}\n\nasync function tapExternalRequirePolyfill(projectRoot: string) {\n  await fs.promises.mkdir(path.join(projectRoot, path.dirname(EXTERNAL_REQUIRE_POLYFILL)), {\n    recursive: true,\n  });\n  await fs.promises.writeFile(\n    path.join(projectRoot, EXTERNAL_REQUIRE_POLYFILL),\n    'global.$$require_external = typeof window === \"undefined\" ? require : () => null;'\n  );\n  await fs.promises.writeFile(\n    path.join(projectRoot, EXTERNAL_REQUIRE_NATIVE_POLYFILL),\n    'global.$$require_external = (moduleId) => {throw new Error(`Node.js standard library module ${moduleId} is not available in this JavaScript environment`);}'\n  );\n}\n\nexport function isNodeExternal(moduleName: string): string | null {\n  const moduleId = moduleName.replace(/^node:/, '');\n  if (NODE_STDLIB_MODULES.includes(moduleId)) {\n    return moduleId;\n  }\n  return null;\n}\n\nfunction tapNodeShimContents(moduleId: string): string {\n  return `module.exports = $$require_external('node:${moduleId}');`;\n}\n\n// Ensure Node.js shims which require using `$$require_external` are available inside the project.\nasync function tapNodeShims(projectRoot: string) {\n  const externals: Record<string, string> = {};\n  for (const moduleId of NODE_STDLIB_MODULES) {\n    const shimDir = path.join(projectRoot, METRO_EXTERNALS_FOLDER, moduleId);\n    const shimPath = path.join(shimDir, 'index.js');\n    externals[moduleId] = shimPath;\n\n    if (!fs.existsSync(shimPath)) {\n      await fs.promises.mkdir(shimDir, { recursive: true });\n      await fs.promises.writeFile(shimPath, tapNodeShimContents(moduleId));\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}