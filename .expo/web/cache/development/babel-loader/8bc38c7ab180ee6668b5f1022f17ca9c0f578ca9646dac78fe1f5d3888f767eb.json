{"ast":null,"code":"'use strict';\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar zlib = require('zlib');\nvar bufferUtil = require(\"./buffer-util\");\nvar Limiter = require(\"./limiter\");\nvar _require = require(\"./constants\"),\n  kStatusCode = _require.kStatusCode;\nvar FastBuffer = Buffer[Symbol.species];\nvar TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nvar kPerMessageDeflate = Symbol('permessage-deflate');\nvar kTotalLength = Symbol('total-length');\nvar kCallback = Symbol('callback');\nvar kBuffers = Symbol('buffers');\nvar kError = Symbol('error');\nvar zlibLimiter;\nvar PerMessageDeflate = function () {\n  function PerMessageDeflate(options, isServer, maxPayload) {\n    _classCallCheck(this, PerMessageDeflate);\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold = this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n    this.params = null;\n    if (!zlibLimiter) {\n      var concurrency = this._options.concurrencyLimit !== undefined ? this._options.concurrencyLimit : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n  _createClass(PerMessageDeflate, [{\n    key: \"offer\",\n    value: function offer() {\n      var params = {};\n      if (this._options.serverNoContextTakeover) {\n        params.server_no_context_takeover = true;\n      }\n      if (this._options.clientNoContextTakeover) {\n        params.client_no_context_takeover = true;\n      }\n      if (this._options.serverMaxWindowBits) {\n        params.server_max_window_bits = this._options.serverMaxWindowBits;\n      }\n      if (this._options.clientMaxWindowBits) {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      } else if (this._options.clientMaxWindowBits == null) {\n        params.client_max_window_bits = true;\n      }\n      return params;\n    }\n  }, {\n    key: \"accept\",\n    value: function accept(configurations) {\n      configurations = this.normalizeParams(configurations);\n      this.params = this._isServer ? this.acceptAsServer(configurations) : this.acceptAsClient(configurations);\n      return this.params;\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup() {\n      if (this._inflate) {\n        this._inflate.close();\n        this._inflate = null;\n      }\n      if (this._deflate) {\n        var callback = this._deflate[kCallback];\n        this._deflate.close();\n        this._deflate = null;\n        if (callback) {\n          callback(new Error('The deflate stream was closed while data was being processed'));\n        }\n      }\n    }\n  }, {\n    key: \"acceptAsServer\",\n    value: function acceptAsServer(offers) {\n      var opts = this._options;\n      var accepted = offers.find(function (params) {\n        if (opts.serverNoContextTakeover === false && params.server_no_context_takeover || params.server_max_window_bits && (opts.serverMaxWindowBits === false || typeof opts.serverMaxWindowBits === 'number' && opts.serverMaxWindowBits > params.server_max_window_bits) || typeof opts.clientMaxWindowBits === 'number' && !params.client_max_window_bits) {\n          return false;\n        }\n        return true;\n      });\n      if (!accepted) {\n        throw new Error('None of the extension offers can be accepted');\n      }\n      if (opts.serverNoContextTakeover) {\n        accepted.server_no_context_takeover = true;\n      }\n      if (opts.clientNoContextTakeover) {\n        accepted.client_no_context_takeover = true;\n      }\n      if (typeof opts.serverMaxWindowBits === 'number') {\n        accepted.server_max_window_bits = opts.serverMaxWindowBits;\n      }\n      if (typeof opts.clientMaxWindowBits === 'number') {\n        accepted.client_max_window_bits = opts.clientMaxWindowBits;\n      } else if (accepted.client_max_window_bits === true || opts.clientMaxWindowBits === false) {\n        delete accepted.client_max_window_bits;\n      }\n      return accepted;\n    }\n  }, {\n    key: \"acceptAsClient\",\n    value: function acceptAsClient(response) {\n      var params = response[0];\n      if (this._options.clientNoContextTakeover === false && params.client_no_context_takeover) {\n        throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n      }\n      if (!params.client_max_window_bits) {\n        if (typeof this._options.clientMaxWindowBits === 'number') {\n          params.client_max_window_bits = this._options.clientMaxWindowBits;\n        }\n      } else if (this._options.clientMaxWindowBits === false || typeof this._options.clientMaxWindowBits === 'number' && params.client_max_window_bits > this._options.clientMaxWindowBits) {\n        throw new Error('Unexpected or invalid parameter \"client_max_window_bits\"');\n      }\n      return params;\n    }\n  }, {\n    key: \"normalizeParams\",\n    value: function normalizeParams(configurations) {\n      var _this = this;\n      configurations.forEach(function (params) {\n        Object.keys(params).forEach(function (key) {\n          var value = params[key];\n          if (value.length > 1) {\n            throw new Error(`Parameter \"${key}\" must have only a single value`);\n          }\n          value = value[0];\n          if (key === 'client_max_window_bits') {\n            if (value !== true) {\n              var num = +value;\n              if (!Number.isInteger(num) || num < 8 || num > 15) {\n                throw new TypeError(`Invalid value for parameter \"${key}\": ${value}`);\n              }\n              value = num;\n            } else if (!_this._isServer) {\n              throw new TypeError(`Invalid value for parameter \"${key}\": ${value}`);\n            }\n          } else if (key === 'server_max_window_bits') {\n            var _num = +value;\n            if (!Number.isInteger(_num) || _num < 8 || _num > 15) {\n              throw new TypeError(`Invalid value for parameter \"${key}\": ${value}`);\n            }\n            value = _num;\n          } else if (key === 'client_no_context_takeover' || key === 'server_no_context_takeover') {\n            if (value !== true) {\n              throw new TypeError(`Invalid value for parameter \"${key}\": ${value}`);\n            }\n          } else {\n            throw new Error(`Unknown parameter \"${key}\"`);\n          }\n          params[key] = value;\n        });\n      });\n      return configurations;\n    }\n  }, {\n    key: \"decompress\",\n    value: function decompress(data, fin, callback) {\n      var _this2 = this;\n      zlibLimiter.add(function (done) {\n        _this2._decompress(data, fin, function (err, result) {\n          done();\n          callback(err, result);\n        });\n      });\n    }\n  }, {\n    key: \"compress\",\n    value: function compress(data, fin, callback) {\n      var _this3 = this;\n      zlibLimiter.add(function (done) {\n        _this3._compress(data, fin, function (err, result) {\n          done();\n          callback(err, result);\n        });\n      });\n    }\n  }, {\n    key: \"_decompress\",\n    value: function _decompress(data, fin, callback) {\n      var _this4 = this;\n      var endpoint = this._isServer ? 'client' : 'server';\n      if (!this._inflate) {\n        var key = `${endpoint}_max_window_bits`;\n        var windowBits = typeof this.params[key] !== 'number' ? zlib.Z_DEFAULT_WINDOWBITS : this.params[key];\n        this._inflate = zlib.createInflateRaw(_objectSpread(_objectSpread({}, this._options.zlibInflateOptions), {}, {\n          windowBits: windowBits\n        }));\n        this._inflate[kPerMessageDeflate] = this;\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n        this._inflate.on('error', inflateOnError);\n        this._inflate.on('data', inflateOnData);\n      }\n      this._inflate[kCallback] = callback;\n      this._inflate.write(data);\n      if (fin) this._inflate.write(TRAILER);\n      this._inflate.flush(function () {\n        var err = _this4._inflate[kError];\n        if (err) {\n          _this4._inflate.close();\n          _this4._inflate = null;\n          callback(err);\n          return;\n        }\n        var data = bufferUtil.concat(_this4._inflate[kBuffers], _this4._inflate[kTotalLength]);\n        if (_this4._inflate._readableState.endEmitted) {\n          _this4._inflate.close();\n          _this4._inflate = null;\n        } else {\n          _this4._inflate[kTotalLength] = 0;\n          _this4._inflate[kBuffers] = [];\n          if (fin && _this4.params[`${endpoint}_no_context_takeover`]) {\n            _this4._inflate.reset();\n          }\n        }\n        callback(null, data);\n      });\n    }\n  }, {\n    key: \"_compress\",\n    value: function _compress(data, fin, callback) {\n      var _this5 = this;\n      var endpoint = this._isServer ? 'server' : 'client';\n      if (!this._deflate) {\n        var key = `${endpoint}_max_window_bits`;\n        var windowBits = typeof this.params[key] !== 'number' ? zlib.Z_DEFAULT_WINDOWBITS : this.params[key];\n        this._deflate = zlib.createDeflateRaw(_objectSpread(_objectSpread({}, this._options.zlibDeflateOptions), {}, {\n          windowBits: windowBits\n        }));\n        this._deflate[kTotalLength] = 0;\n        this._deflate[kBuffers] = [];\n        this._deflate.on('data', deflateOnData);\n      }\n      this._deflate[kCallback] = callback;\n      this._deflate.write(data);\n      this._deflate.flush(zlib.Z_SYNC_FLUSH, function () {\n        if (!_this5._deflate) {\n          return;\n        }\n        var data = bufferUtil.concat(_this5._deflate[kBuffers], _this5._deflate[kTotalLength]);\n        if (fin) {\n          data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n        }\n        _this5._deflate[kCallback] = null;\n        _this5._deflate[kTotalLength] = 0;\n        _this5._deflate[kBuffers] = [];\n        if (fin && _this5.params[`${endpoint}_no_context_takeover`]) {\n          _this5._deflate.reset();\n        }\n        callback(null, data);\n      });\n    }\n  }], [{\n    key: \"extensionName\",\n    get: function get() {\n      return 'permessage-deflate';\n    }\n  }]);\n  return PerMessageDeflate;\n}();\nmodule.exports = PerMessageDeflate;\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n  if (this[kPerMessageDeflate]._maxPayload < 1 || this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\nfunction inflateOnError(err) {\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}","map":{"version":3,"names":["_defineProperty","require","_classCallCheck","_createClass","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","zlib","bufferUtil","Limiter","_require","kStatusCode","FastBuffer","Buffer","Symbol","species","TRAILER","from","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","kError","zlibLimiter","PerMessageDeflate","options","isServer","maxPayload","_maxPayload","_options","_threshold","threshold","undefined","_isServer","_deflate","_inflate","params","concurrency","concurrencyLimit","key","value","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","configurations","normalizeParams","acceptAsServer","acceptAsClient","cleanup","close","callback","Error","offers","opts","accepted","find","response","_this","num","Number","isInteger","TypeError","decompress","data","fin","_this2","add","done","_decompress","err","result","compress","_this3","_compress","_this4","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","on","inflateOnError","inflateOnData","write","flush","concat","_readableState","endEmitted","reset","_this5","createDeflateRaw","zlibDeflateOptions","deflateOnData","Z_SYNC_FLUSH","buffer","byteOffset","get","module","exports","chunk","RangeError","code","removeListener"],"sources":["C:/Users/CR Laptop/Desktop/rn-project/react_navigation/node_modules/@expo/cli/node_modules/ws/lib/permessage-deflate.js"],"sourcesContent":["'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}