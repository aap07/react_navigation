{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar _asyncToGenerator = require(\"@babel/runtime/helpers/asyncToGenerator\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateTSConfigAsync = updateTSConfigAsync;\nexports.baseTSConfigName = void 0;\nvar _jsonFile = _interopRequireDefault(require(\"@expo/json-file\"));\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar Log = _interopRequireWildcard(require(\"../../../log\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nvar baseTSConfigName = \"expo/tsconfig.base\";\nexports.baseTSConfigName = baseTSConfigName;\nfunction updateTSConfigAsync(_x) {\n  return _updateTSConfigAsync.apply(this, arguments);\n}\nfunction _updateTSConfigAsync() {\n  _updateTSConfigAsync = _asyncToGenerator(function* (_ref) {\n    var tsConfigPath = _ref.tsConfigPath,\n      isBootstrapping = _ref.isBootstrapping;\n    var shouldGenerate = !_fs.default.existsSync(tsConfigPath);\n    if (isBootstrapping) {\n      yield _jsonFile.default.writeAsync(tsConfigPath, {});\n    }\n    var projectTSConfig = _jsonFile.default.read(tsConfigPath, {\n      json5: true\n    });\n    if (projectTSConfig.compilerOptions == null) {\n      projectTSConfig.compilerOptions = {};\n      isBootstrapping = true;\n    }\n    var modifications = [];\n    if (!projectTSConfig.extends) {\n      projectTSConfig.extends = baseTSConfigName;\n      modifications.push([\"extends\", baseTSConfigName]);\n    }\n    if (!modifications.length) {\n      return;\n    }\n    yield _jsonFile.default.writeAsync(tsConfigPath, projectTSConfig);\n    if (isBootstrapping && !shouldGenerate) {\n      return;\n    }\n    Log.log();\n    if (isBootstrapping) {\n      Log.log(_chalk.default`{bold TypeScript}: A {cyan tsconfig.json} has been auto-generated`);\n    } else {\n      Log.log(_chalk.default`{bold TypeScript}: The {cyan tsconfig.json} has been updated {dim (Use EXPO_NO_TYPESCRIPT_SETUP to skip)}`);\n      logModifications(modifications);\n    }\n    Log.log();\n  });\n  return _updateTSConfigAsync.apply(this, arguments);\n}\nfunction logModifications(modifications) {\n  Log.log();\n  Log.log(_chalk.default`\\u203A {bold Required} modifications made to the {cyan tsconfig.json}:`);\n  Log.log();\n  printTable(modifications.sort(function (a, b) {\n    return a[0].length - b[0].length;\n  }));\n  Log.log();\n}\nfunction printTable(items) {\n  var tableFormat = function tableFormat(name, msg) {\n    return `  ${_chalk.default.bold`${name}`} is now ${_chalk.default.cyan(msg)}`;\n  };\n  for (var _ref2 of items) {\n    var _ref3 = _slicedToArray(_ref2, 2);\n    var key = _ref3[0];\n    var value = _ref3[1];\n    Log.log(tableFormat(key, value));\n  }\n}","map":{"version":3,"names":["_slicedToArray","require","_asyncToGenerator","updateTSConfigAsync","_jsonFile","_interopRequireDefault","_chalk","_fs","Log","_interopRequireWildcard","baseTSConfigName","_x","_updateTSConfigAsync","apply","arguments","_ref","tsConfigPath","isBootstrapping","shouldGenerate","default","existsSync","writeAsync","projectTSConfig","read","json5","compilerOptions","modifications","extends","push","length","log","logModifications","printTable","sort","a","b","items","tableFormat","name","msg","bold","cyan","_ref2","_ref3","key","value"],"sources":["C:\\Users\\CR Laptop\\Desktop\\rn-project\\react_navigation\\node_modules\\@expo\\cli\\src\\start\\doctor\\typescript\\updateTSConfig.ts"],"sourcesContent":["import JsonFile from '@expo/json-file';\nimport chalk from 'chalk';\nimport fs from 'fs';\n\nimport * as Log from '../../../log';\n\nexport const baseTSConfigName = 'expo/tsconfig.base';\n\nexport async function updateTSConfigAsync({\n  tsConfigPath,\n  isBootstrapping,\n}: {\n  tsConfigPath: string;\n  isBootstrapping: boolean;\n}): Promise<void> {\n  const shouldGenerate = !fs.existsSync(tsConfigPath);\n  if (isBootstrapping) {\n    await JsonFile.writeAsync(tsConfigPath, {});\n  }\n\n  const projectTSConfig = JsonFile.read(tsConfigPath, {\n    // Some tsconfig.json files have a generated comment in the file.\n    json5: true,\n  });\n  if (projectTSConfig.compilerOptions == null) {\n    projectTSConfig.compilerOptions = {};\n    isBootstrapping = true;\n  }\n\n  const modifications: [string, string][] = [];\n\n  // If the extends field isn't defined, set it to the expo default\n  if (!projectTSConfig.extends) {\n    // if (projectTSConfig.extends !== baseTSConfigName) {\n    projectTSConfig.extends = baseTSConfigName;\n    modifications.push(['extends', baseTSConfigName]);\n  }\n\n  // If no changes, then quietly bail out\n  if (!modifications.length) {\n    return;\n  }\n\n  // Write changes and log out a summary of what changed\n  await JsonFile.writeAsync(tsConfigPath, projectTSConfig);\n\n  // If no changes, then quietly bail out\n  if (isBootstrapping && !shouldGenerate) {\n    return;\n  }\n\n  Log.log();\n\n  if (isBootstrapping) {\n    Log.log(chalk`{bold TypeScript}: A {cyan tsconfig.json} has been auto-generated`);\n  } else {\n    Log.log(\n      chalk`{bold TypeScript}: The {cyan tsconfig.json} has been updated {dim (Use EXPO_NO_TYPESCRIPT_SETUP to skip)}`\n    );\n    logModifications(modifications);\n  }\n  Log.log();\n}\n\nfunction logModifications(modifications: string[][]) {\n  Log.log();\n\n  Log.log(chalk`\\u203A {bold Required} modifications made to the {cyan tsconfig.json}:`);\n\n  Log.log();\n\n  // Sort the items based on key name length\n  printTable(modifications.sort((a, b) => a[0].length - b[0].length));\n\n  Log.log();\n}\n\nfunction printTable(items: string[][]) {\n  const tableFormat = (name: string, msg: string) =>\n    `  ${chalk.bold`${name}`} is now ${chalk.cyan(msg)}`;\n  for (const [key, value] of items) {\n    Log.log(tableFormat(key, value));\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}